# FaceSocial AI - Environment Configuration Template
# Copy this file to .env and update with your actual values
# ⚠️  NEVER commit .env file to version control

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Database Settings
POSTGRES_USER=facesocial_user
POSTGRES_PASSWORD=your_secure_password_here_min_12_chars
POSTGRES_DB=facesocial
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# Database Pool Settings (Optional)
POSTGRES_POOL_SIZE=10
POSTGRES_MAX_OVERFLOW=20
POSTGRES_POOL_TIMEOUT=30

# =============================================================================
# REDIS CONFIGURATION  
# =============================================================================

# Redis Cache Settings
REDIS_PASSWORD=your_redis_password_here_min_12_chars
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# Redis Performance Settings (Optional)
REDIS_MAX_CONNECTIONS=100
REDIS_SOCKET_TIMEOUT=30
REDIS_HEALTH_CHECK_INTERVAL=30

# =============================================================================
# MILVUS VECTOR DATABASE
# =============================================================================

# Milvus Vector Database Settings
MILVUS_HOST=localhost
MILVUS_PORT=19530
MILVUS_USER=
MILVUS_PASSWORD=

# Milvus Collection Settings (Optional)
MILVUS_COLLECTION_NAME=face_embeddings
MILVUS_INDEX_TYPE=IVF_FLAT
MILVUS_METRIC_TYPE=IP

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# JWT Configuration
JWT_SECRET_KEY=your_jwt_secret_here_min_32_chars_random_string
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# API Security
API_RATE_LIMIT_PER_MINUTE=100
API_RATE_LIMIT_PER_HOUR=1000
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# =============================================================================
# SERVICE CONFIGURATION
# =============================================================================

# Service Identity
SERVICE_NAME=face-detection-service
SERVICE_VERSION=1.0.0
ENVIRONMENT=development
DEBUG=false

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1
API_RELOAD=true

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Logging Settings
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_PATH=./logs/facesocial-ai.log
LOG_MAX_SIZE_MB=100
LOG_BACKUP_COUNT=5

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30

# =============================================================================
# AI MODEL CONFIGURATION
# =============================================================================

# Model Paths
MODEL_BASE_PATH=./models
YOLO_MODEL_PATH=
INSIGHTFACE_MODEL_NAME=buffalo_l

# GPU Configuration
CUDA_VISIBLE_DEVICES=0
VRAM_LIMIT_MB=4800
FORCE_CPU=false
MAX_BATCH_SIZE=4
MODEL_CACHE_SIZE=2

# Detection Parameters
DEFAULT_CONFIDENCE_THRESHOLD=0.7
DEFAULT_IOU_THRESHOLD=0.45
DEFAULT_MIN_FACE_SIZE=40
DEFAULT_MAX_FACES=100

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================

# Request Handling
MAX_CONCURRENT_REQUESTS=10
REQUEST_TIMEOUT_SECONDS=30
MAX_IMAGE_SIZE_MB=10

# Caching
CACHE_TTL_SECONDS=3600
ENABLE_RESULT_CACHING=true
CACHE_MAX_SIZE=1000

# Face Embedding Cache TTL (seconds)
FACE_EMBEDDING_CACHE_TTL=3600
SESSION_CACHE_TTL=1800
TEMP_ANALYSIS_CACHE_TTL=300

# =============================================================================
# QUALITY ASSESSMENT
# =============================================================================

# Quality Thresholds
MIN_FACE_QUALITY_SCORE=0.3
ENABLE_QUALITY_ASSESSMENT=true
QUALITY_METRICS=sharpness,brightness,size

# =============================================================================
# EXTERNAL SERVICES (Optional)
# =============================================================================

# Email Service (for notifications)
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=true

# Cloud Storage (for model storage)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
S3_BUCKET_NAME=

# Monitoring & Analytics
SENTRY_DSN=
ANALYTICS_API_KEY=

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================

# Docker Compose Overrides
COMPOSE_PROJECT_NAME=facesocial-ai
COMPOSE_FILE=docker-compose.yml

# Container Resource Limits
POSTGRES_MEMORY_LIMIT=1g
REDIS_MEMORY_LIMIT=512m
MILVUS_MEMORY_LIMIT=2g
APP_MEMORY_LIMIT=2g

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Development Only
DEV_AUTO_RELOAD=true
DEV_DEBUG_SQL=false
DEV_MOCK_GPU=false
DEV_SKIP_AUTH=false

# Testing
TEST_DATABASE_URL=postgresql://test_user:test_pass@localhost:5433/test_facesocial
TEST_REDIS_URL=redis://localhost:6380/1

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================

# Production Security (uncomment for production)
# SECURE_COOKIES=true
# HTTPS_ONLY=true
# HSTS_MAX_AGE=31536000

# SSL/TLS Configuration
# SSL_CERT_PATH=/etc/ssl/certs/facesocial.crt
# SSL_KEY_PATH=/etc/ssl/private/facesocial.key

# =============================================================================
# BACKUP & MAINTENANCE
# =============================================================================

# Backup Settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_LOCATION=./database/backup

# Maintenance
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System maintenance in progress"